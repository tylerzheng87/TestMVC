<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>

    <script src="/Scripts/jquery-3.3.1.js"></script>
    <script src="/Scripts/jquery.signalR-2.2.2.js"></script>
    <script src="/signalr/hubs" type="text/javascript"></script>
</head >
                <body>
                    <button id="btn1">点我</button>
                    名称：<input type="text" id="userName" />
                    消息：<input type="text" id="message" />

                    <script  type="text/javascript">$.connection.testHub.client.onMessage = function (msg) {

                            alert("收到服务器消息");

                        }
                        $.connection.hub.qs = {name:'Tman',age:66 };
                        $.connection.hub.start(). done(function () {
                            alert("start成功");
                        }).fail(function () {
                            alert("start失败");
                        });
                        $("#btn1").click(function () {
                            var userName = $("#userName").val();
                            var message = $("#message").val();
                            $.connection.testHub.server.sendMessage(userName, message);
                        });
                     </script>
    </body>
</html>